<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Mapbox-Example</title>
  <link rel="stylesheet" href="https://api.tiles.mapbox.com/mapbox-gl-js/v0.51.0/mapbox-gl.css">
  <link rel="stylesheet" href="./css/style.css">
  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.51.0/mapbox-gl.js'></script>
</head>

<body>
  <div id="map"></div>

  <script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiaHVhbmdsaWkiLCJhIjoiY2ptbjJsZXRsMHBlNzNsbGIycTk3eWU0biJ9.Pj_8_ER8nD7UQSSeOg4JZA';
    var map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/mapbox/streets-v9',
      center: [-73.983372, 40.770845],
      zoom: 11.5,
      // minZoom: 3
    });
    map.addControl(new mapboxgl.NavigationControl(), 'top-right');

    map.on('load', function () {
      map.addSource('tiger-ny', {
        'type': 'vector',
        'scheme': 'tms',
        'tiles': [
          'http://localhost:8008/geoserver/gwc/service/tms/1.0.0/tiger-ny@EPSG:900913@pbf/{z}/{x}/{y}.pbf',
          'http://localhost:8008/geoserver/gwc/service/tms/1.0.0/spearfish@EPSG:900913@pbf/{z}/{x}/{y}.pbf'
        ]
      });

      map.addLayer({
        'id': 'tiger-poi',
        'source': 'tiger-ny',
        'source-layer': 'poi',
        'type': 'circle',
        'paint': {
          'circle-color': '#ff0000',
          'circle-radius': 10
        }
      });
      map.addLayer({
        'id': 'tiger-archsites',
        'source': 'tiger-ny',
        'source-layer': 'archsites',
        'type': 'circle',
        'paint': {
          'circle-color': '#00ff00',
          'circle-radius': 10
        }
      });
    });
  </script>
</body>

</html>